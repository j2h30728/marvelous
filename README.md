안녕하세요.
코드리뷰 해주셔서 감사합니다.
태영님과 빡준님이 해주신 코드리뷰를 정리해서 체크리스로 확인하고 해당항목마다 반영한 사항과 의문 사항을 작성하겠습니다.

> 2023.04.24 코드리뷰내용
>
> - [x] ApiUrl 클래스 제거 및 상수화
> - [x] 공통컴포넌트 생성시 타입을 넓게 열어주기
> - [x] 타입과 기능에 따른 유추가능하게 명확한 네이밍 사용
> - [x] useQuery 파일내에 두개의 훅스(useGetList, useGetDetail)을 분리하기
>   - [x] 분리된 useGetList, useGetDetail을 useFetch 공통훅스로 만들고, useGetList 삭제
>   - [x] useGetDetail에서 useParams처리
> - [x] 트리쉐이킹을 방해하는 `import * as S from"./style"` 모두 제거
> - [x] 컴파운드 컴포넌트 패턴 적용으로 공통으로 사용할 수 있는 컴포넌트를 묶음
>   - [x] 캐릭터이미지, 컨테이너, 로더, 타이틀 , DetailItem 생성
> - [x] 타입폴더 내에 타입에 따라 다른 파일명 설정 (type.ts ⇒ charater.ts 로 변경)

---

### 리팩토링 기간 : 2023.05.30~31

| 코드리뷰                                                                                                                                                                                     | 관련된 링크                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | 의문점                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --- |
| ApiUrl 클래스 제거 및 상수화                                                                                                                                                                 | [url를 전부 문자열 상수로 변경](https://github.com/j2h30728/marvelous/commit/cbfba171819c8ac1495d79c8155d467d36d26de6)                                                                                                                                                                                                                                                                                                                                                               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 공통컴포넌트 생성시 타입을 넓게 열어주기                                                                                                                                                     | [`string => React.ReactNode`로 변경](https://github.com/j2h30728/marvelous/commit/c6bf0d5008706cd95b0eb589e4aca9edbd3eaf09)                                                                                                                                                                                                                                                                                                                                                          | 코드리뷰 해주셨을 때 지정하셨던 부분을 코드수정은 했지만, 제가 전체적인 리팩토링하고나서는 이 항목이 잘지켰는가에 대해 생각해보니 아닌 것같기도하더라구요.<br><br> 현재 공통 디자인을 적용하기위해서 공통컴포넌트를 생성해놨는데, 이 부분의 타입도 손봐야하는건지 잘 모르겠습니다.                                                                                                                                                                                                                                                                  |
| 타입과 기능에 따른 유추가능하게 명확한 네이밍 사용                                                                                                                                           | [`goBack => isGoBack`, <br>`makeImg => makeImagePathname`<br> 로 변경](https://github.com/j2h30728/marvelous/commit/c6bf0d5008706cd95b0eb589e4aca9edbd3eaf09)                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | -   |
| useQuery 파일내에 두개의 훅스(useGetList, useGetDetail)을 분리하기<br/>- 분리된 useGetList, useGetDetail을 useFetch 공통훅스로 만들고, useGetList 삭제<br/> - useGetDetail에서 useParams처리 | [해당 커밋](https://github.com/j2h30728/marvelous/commit/57b95a94f31aa8fa5d50a8fa0be18abbf518566c)                                                                                                                                                                                                                                                                                                                                                                                   | 요 부분은 두 분다 코드리뷰로 말씀 해주셔서 반영은 해놨지만, 조금 시원치 않게 수정된 것같아요. 뭔가..시원치 않아...                                                                                                                                                                                                                                                                                                                                                                                                                                  |     |
| 트리쉐이킹을 방해하는 `import * as S from"./style"` 모두 제거                                                                                                                                | [1. import 구문 제거](https://github.com/j2h30728/marvelous/commit/6fdb841051381eaf9d9f48e7aabb4dded9afe402) <br/>[2. styles 전체 제거 후, 로더컴포넌트로 컴파운드패턴 테스트](https://github.com/j2h30728/marvelous/commit/ef407ccbb8c4930d25fa115552b0f4c6397fff2e)                                                                                                                                                                                                                | 디자인을 적용하기위해 스타일드 컴포넌트 기능주의 as 를 생각보다 자주 사용했습니다. 디자인은 동일하게 하되 태그를 변경시키는 기능인데, 이 기능을 자주 사용해도 되는지 잘 모르겠습니다.<br> 지금은 스타일드 컴포넌트라서 쉽게 바꿔서 생성했지만, 이 라이브러리를 사용하지않는다면? 이라는 생각을 하게되니 as기능을 자주 사용하는 것이 맞는지 고민하게 되더라구요.                                                                                                                                                                                     |
| 컴파운드 컴포넌트 패턴 적용으로 공통으로 사용할 수 있는 컴포넌트를 묶음 <br> - 캐릭터이미지, 컨테이너, 로더, 타이틀 , DetailItem 생성                                                        | [1. 이미지 컴포넌트 생성](https://github.com/j2h30728/marvelous/commit/cdc8fb6a2b0e88a3f3017cc5625716a9109f531f) <br>[2. 컨테이너 컴포넌트 생성](https://github.com/j2h30728/marvelous/commit/436ce1664c81ecef6a49e39db092537bad143024) <br>[3. 타이틀 컴포넌트 생성](https://github.com/j2h30728/marvelous/commit/86728d1c5c814fcefb5d519fb9eb273d7b0f79c0)<br>[4. DetailItem 컴포넌트 생성](https://github.com/j2h30728/marvelous/commit/0aab465b5c141a917892feafb516d12043d7461f) | 1. 생성된 컴포넌트 들이 컴파운드 컴포넌트에 알맞게 생성되었는지<br><br/>2. 폴더구조에서 확인할 수 있듯이 페이지마다 생성되는 컴포넌트들은 해당 페이지 이름의 폴더로 보관되어있지만, 컴포넌트 분리 기준이 디자인 관점과 추상화적인 관점이라는 두 분류 나뉘게 됩니다. 이 둘도 함께 분리를 해줘야할까요?<br><br/>3. 아토믹 패턴에서 디자인 적으로 사용되는 것이 컴파운드 패턴이라고 보았습니다. 그러면 현재, 아토믹 패턴으로 구현하고 분리하는 편이 더 좋은 걸까요?<br> 현재, 컴포넌트 분리를 나름의 아토믹패턴을 참고.....하기는 했습니다. 참..고..만 |
| 타입폴더 내에 타입에 따라 다른 파일명 설정                                                                                                                                                   | [type.ts ⇒ charater.ts 로 변경](https://github.com/j2h30728/marvelous/blob/979b8ab2a17603e9cc6f763c2c524fa38efdbc62/src/types/Charater.ts)                                                                                                                                                                                                                                                                                                                                           |
| 종합                                                                                                                                                                                         | [main 페이지](https://github.com/j2h30728/marvelous/blob/main/src/pages/Detail.tsx#L1) <br> [detail 페이지](https://github.com/j2h30728/marvelous/blob/main/src/pages/Main.tsx)                                                                                                                                                                                                                                                                                                      | main페이지와 detail 페이지를 확인하게되면 다른 형태를 띄우고있습니다. 추상화 레벨이 다르다고 표현하나요? 어떤 표현이 알맞는지 잘 모르겠습니다. <br><br>표현을 제쳐두고, 컴포넌트들을 어디까지 추상화 해야하는지를 잘 모르겠습니다. miain페이지는 정말 리스트만 뽑아주기때문에 리스트 컴포넌트만 남게되었고, detail 페이지에서는 main페이지에서 넘어오는 state값과 api fh불러오는 데이터 값으로 두개의 방식으로 렌더링 차이를 두다보니 두 페이지가 달라지게 된 것같습니다. <br> 어느 방향으로 진행하는 것이 대체로 올바른 편인가요? <br>             |

#### 폴더구조

```
├── App.tsx
├── GlobalStyle.tsx
├── api
│   ├── ApiUrl.ts
│   ├── api.ts
│   └── index.ts
├── components
│   ├── common
│   │   ├── CharaterImg.tsx
│   │   ├── Container.tsx
│   │   ├── Header.tsx
│   │   ├── Loder.tsx
│   │   └── Title.tsx
│   ├── detail
│   │   ├── DetailContents.tsx
│   │   ├── DetailItem.tsx
│   │   └── DetailItems.tsx
│   ├── index.ts
│   └── main
│       ├── CharacterList.tsx
│       └── CharaterItems.tsx
├── hooks
│   ├── useFetch.ts
│   └── useGetDetail.ts
├── main.tsx
├── pages
│   ├── Detail.tsx
│   └── Main.tsx
├── router.tsx
├── types
│   └── Charater.ts
└── utils
    └── makeImagePathname.ts
```
